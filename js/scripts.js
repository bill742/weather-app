function loadJSON(e,t,n){var a=new XMLHttpRequest;a.onreadystatechange=function(){a.readyState===XMLHttpRequest.DONE&&(200===a.status?t&&t(JSON.parse(a.responseText)):n&&n(a))},a.open("GET",e,!0),a.send()}function GetSearchResults(e){var t="sk6rmwqmf3gmxdfxt3at4rxe",n="https://api.gettyimages.com:443/v3/search/images/creative?file_types=jpg&graphical_styles=photography&license_models=royaltyfree&number_of_people=none&orientations=Horizontal%2CPanoramicHorizontal&fields=comp&phrase="+e;$.ajax({type:"GET",url:n,beforeSend:function(e){e.setRequestHeader("Api-Key",t)}}).done(function(e){var t,n,a=e.result_count;a>30?(t=Math.floor(29*Math.random())+1,n="url("+e.images[t].display_sizes[0].uri+" ) no-repeat",$(".content").css("background",n),$(".content").css("background-size","cover")):a>0?(t=Math.floor(Math.random()*e.result_count)+1,n="url("+e.images[t].display_sizes[0].uri+" ) no-repeat",$(".content").css("background",n),$(".content").css("background-size","cover")):console.log("no images found")}).fail(function(e){})}function getCityData(){var e,t="http://api.openweathermap.org/data/2.5/forecast/weather?q="+city+"&units="+unit+"&id=524901&APPID=b32c84201db94b92ed42d393cac6526b",n=$.getJSON(t,function(){if(4===n.readyState){var t=JSON.parse(n.responseText),a=t.list[0].main.temp,o=JSON.stringify(a).split(".",1),i=t.city.name;e='<p class="data-city">'+i+"</p>",e+='<i class="owf owf-'+t.list[0].weather[0].id+'"></i>',e+="<p>"+t.list[0].weather[0].main+"</p>",e+='<p id="unitText" class="unit-text">Current Temperature: '+o+unitIcon+"</p>",GetSearchResults(i),document.getElementById("dataBox").innerHTML=e}else e="Error - no response"});document.getElementById("dataBox").innerHTML=e}function getCity(){city=document.getElementById("search").value,""===city?document.getElementById("dataBox").innerHTML="Please search for a city!":getCityData()}function changeUnit(){var e=document.getElementById("unitBtn");"Show me Celcius"==e.value?(unitIcon="°C",unit="metric",e.value="Show me Fahrenheit"):(unitIcon="°F",unit="imperial",e.value="Show me Celcius"),getCityData()}"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(e){var t=e.coords.latitude,n=e.coords.longitude,a="https://maps.googleapis.com/maps/api/geocode/json?latlng="+t+","+n+"&sensor=true&key=AIzaSyAlM9dEqJwCvY0l54lyQdvL57HqDPgOJ68";loadJSON(a,function(e){city=e.results[5].address_components[0].long_name,getCityData(city)})}),document.getElementById("search").onkeypress=function(e){13!=e.keyCode&&13!=e.which||getCity()};var unit="imperial",unitIcon="°F",city;