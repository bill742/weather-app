function changeUnit(){var e=document.getElementById("unitBtn");"Show me Celcius"==e.value?(unitIcon="°C",unit="metric",e.value="Show me Fahrenheit"):(unitIcon="°F",unit="imperial",e.value="Show me Celcius")}function getCity(){var e=document.getElementById("search").value;if(""===e)document.getElementById("dataBox").innerHTML="Please search for a city!";else{var t="http://api.openweathermap.org/data/2.5/forecast/weather?q="+e+"&units="+unit+"&id=524901&APPID=b32c84201db94b92ed42d393cac6526b",n=new XMLHttpRequest;n.open("GET",t,!1),n.send(null);var o;if(4===n.readyState){var a=JSON.parse(n.responseText),i=a.list[0].main.temp,r=JSON.stringify(i).split(".",1);o="<p>City: "+a.city.name+"</p>",o+="<img src=http://openweathermap.org/img/w/"+a.list[0].weather[0].icon+".png>",o+=a.list[0].weather[0].main,o+="<p>Current Temperature: "+r+unitIcon+"</p>",document.getElementById("dataBox").innerHTML=o}else o="Error - no response";document.getElementById("dataBox").innerHTML=o}}var unit="imperial",unitIcon="°F";"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(e){var t=e.coords.latitude,n=e.coords.longitude;console.log(t,n);var o="http://maps.googleapis.com/maps/api/geocode/json?latlng="+t+","+n+"&sensor=true&key=AIzaSyAlM9dEqJwCvY0l54lyQdvL57HqDPgOJ68";console.log(o)}):console.log("geolocation IS NOT available"),document.getElementById("search").onkeypress=function(e){13!=e.keyCode&&13!=e.which||getCity()};